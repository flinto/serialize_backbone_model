!function(){Backbone.Model.prototype.original_save=Backbone.Model.prototype.save;Backbone.Model.prototype.original_destroy=Backbone.Model.prototype.destroy;Backbone.Model.prototype.save=function(e,t,o){var i,r,s,n,u=this;if(!this._requestQueue){this._requestQueue=[]}this._requestQueue.push({key:e,val:t,options:o});i=this.attributes;if(e===null||typeof e==="undefined"||typeof e==="object"){i=e;o=t}else{(i={})[e]=t}if(!o){o={}}if(i&&(!o||!o.wait)&&!this.set(i,o)){return false}this._saveCalled=true;if(this._requestQueue.length>1){return false}n=o.success;s=o.error;r=function(){var e,t;t=_.last(u._requestQueue);e=u._requestQueue.length;u._requestQueue=[];if(e>1){return u.save(t.key,t.val,t.options)}};o.success=function(e,t,o){if(n){n(e,t,o)}return r()};o.error=function(e,t,o){if(s){s(e,t,o)}return r()};if(e===null||typeof e==="undefined"||typeof e==="object"){t=o}return this.original_save(e,t,o)};Backbone.Model.prototype.destroy=function(e){var t=this;if(!this.get("id")&&this._saveCalled){return this.on("change:id",function(){if(t.get("id")){return t.original_destroy(e)}})}else{return this.original_destroy(e)}}}.call(this);
//# sourceMappingURL=serialize_backbone_model-min.map